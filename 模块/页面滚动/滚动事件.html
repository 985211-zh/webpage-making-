<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #box{
            width: 500px;
            height: 300px;
            border:  1px solid black;
            overflow-y: scroll;
            background-color: yellow;
        }
        .red{
            background-color: red !important;
        }
        #back-top{
            width: 50px;
            height: 50px;
            border:  1px solid #000;
            text-align: center;
            border-radius: 50%;
            line-height:50px;
            position: fixed;
            bottom: 50px;
            right: 50px;
        }
    </style>
</head>
<body>
    <div id="box">
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
        <p>当页面元素内容过多发生滚动时，能触动滚动事件</p>
    </div>
    <input type="text" id="offset">
    <button id="scroll-to">滚动到</button>
    <button id="scroll-by">滚动</button>
    <button id="back-top">TOP</button>
    <div style="height: 5000px;background: radial-gradient(red,green,blue);"></div>

</body>
</html>
<script>
    var box = document.getElementById("box");
    var offset = document.getElementById("offset");
   
    //监听滚动事件（多次执行）
    // box.onscroll
    box.addEventListener("scroll",function() {
        // 内容滚动的偏移量
        console.log(this.scrollTop);
        // 标签的高度(不包含边框)
        console.log(this.clientHeight);
        // 内容的高度
        console.log(this.scrollHeight);

        // 把滚动的偏移量显示在输入框
        offset.value = this.scrollTop;

        // 距离底部还有500px以内，背景变红
        if (this.scrollTop >= this.scrollHeight - this.clientHeight - 500) {
            this.classList.add("red");
        }else{
            this.classList.remove("red");
        }
    });


    var scrollTo = document.getElementById("scroll-to");
    scrollTo.onclick = function() {
        // scrollTo方法：设置标签的内容滚动到什么位置
        // box.scrollTo(0,offset.value);
        // scrollTop属性：设置标签的内容滚动到什么位置
        box.scrollTop = offset.value;
    }

    var scrollBy =document.getElementById("scroll-by");
    scrollBy.onclick = function() {
        // scrollBy方法：设置标签的内容在目前的位置上继续滚动多少
        box.scrollBy(0,offset.value);
    }

    // 监听页面的滚动
    // document.onscroll = function() {
    //     console.log(document.documentElement.scrollTop);                   
    // }
    // document.body.onscroll = function() {
    //     console.log(document.documentElement.scrollTop);    
    // }

    var backTop= document.getElementById("back-top");
    document.onscroll = function() {
        console.log(document.documentElement.scrollTop);
        if (document.documentElement.scrollTop >= document.documentElement.scrollHeight - document.documentElement.clientHeight - 500) {
            backTop.style.display = 'block';
            
        }else{
            backTop.style.display = 'none';
        }
    }
    backTop.onclick = function() {
        document.documentElement.scrollTop = 0;
        
    }


    
</script>